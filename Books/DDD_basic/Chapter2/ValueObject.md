# 챕터 2. 값 객체

## 값의 성질

- 변하지 않는다.
- 주고받을 수 있다. (변수 할당 또는 파라미터 전달)
- 등가성을 비교할 수 있다. 

### 값의 불변성

프로그래밍에서 할당은 메모리를 확보한 후 거기에 데이터를 담는 것.

변수의 내용이 변하는 것은 변수가 참조하는 메모리를 바꾸는 것. 값을 저장한 메모리 내부의 값 자체는 바뀌지 않는다.

### 교환 가능

값은 변하지 않는다. 하지만 교환으로 수정을 나타낼 수 있다.

### 등가성 비교

값은 값끼리 비교가능 해야 한다.

값 객체 끼리의 직접 비교를 구현하여 사용한다.


## 값 객체 선정 기준

- 규칙이 존재하는가
- 낱개로 다루어야 하는가

## 행동이 정의된 값 객체

값 객체에 행동을 정의하면 값 객체에 대한 제약 사항을 구현에 추가, 수정, 삭제하기 쉬워진다.

값 객체에 정의되지 않은 행동은 수행할 수 없는 일이라는 것을 명시적으로 알 수 있다.

## 값 객체 도입의 장점

- 표현력이 증가한다.
    - 단순 문자열과 비교해 값 객체 내부값의 의미를 객체 형식을 통해 정확히 전달할 수 있다.
- 무결성이 유지된다.
    - 값 객체 생성 시 assertion 코드를 통해 조건을 명시적으로 기재할 수 있다.
    - 시스템에서 값 객체에 대해 유지해야할 규칙을 객체 클래스 내부에서 코드로 명시할 수 있다.
- 잘못된 대입을 방지한다.
    - 값 객체는 자신만의 클래스로 구성되기 때문에 다른 값 또는 값 객체가 대입, 할당될 수 없다.
    - 문법 에러 발생
- 로직이 코드 이곳 저곳에 흩어지는 것을 방지한다.

## 정리

값 객체는 시스템 고유의 값 타입을 만드는 것.

원시 타입은 지나치게 범용적이기 때문에 표현력이 빈약하고 처리 로직이 분산될 위험이 있다.

값 객체를 정의하면 도메인의 다양한 규칙을 객체 안에 기술하여 코드 자체가 문서의 역할을 한다.


